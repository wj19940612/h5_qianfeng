<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <style type="text/css">
        * {
            margin: 0px;
            padding: 0px;
        }

        body {
            overflow: hidden;
        }

        div {
            width: 100px;
            height: 100px;
            background-color: black;
            position: absolute;
            left: 0;
            right: 0;
        }
    </style>

</head>

<body>
    <div></div>

    <script type="text/javascript">

        var speedX = 3;
        var speedY = 3;
        var div = document.querySelector("div");

        function move() {
            var currentLeft = parseInt(window.getComputedStyle(div).left);
            var currentTop = parseInt(window.getComputedStyle(div).top);
            check_boder_conllosion(div);
            var left = currentLeft + speedX;
            var top = currentTop + speedY;
            div.style.left = left + 'px';
            div.style.top = top + 'px';
        }

        //碰撞检测
        function check_boder_conllosion(el) {
            var style = window.getComputedStyle(el);
            var left = parseInt(style.left);
            var top = parseInt(style.top);
            var width = parseInt(style.width);
            var height = parseInt(style.height);

            if (left < 0) {
                left = 0;
                speedX *= -1;
            }

            if (left > window.innerWidth - width) {
                left = window.innerWidth - width;
                speedX *= -1;
            }

            if (top < 0) {
                top = 0;
                speedY *= -1;
            }

            if (top > window.innerHeight - height) {
                top = window.innerHeight - height;
                speedY *= -1;
            }

            el.style.left = left + "px";
            el.style.top = top + "px";
        }

        setInterval(() => {
            move();
        }, 20);

    </script>

</body>

</html>