<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <script type="text/javascript">
        /*
          childNodes 获取当前元素节点的所有子节点

        */

        /*
            /^\s+$/.test()  使用左侧的正则表达式验证   
        
        */


        window.onload = function () {
            var oDiv = document.getElementById("div1");
            //alert(oDiv.childNodes);       // object NodeList 装有当前元素节点的所有子节点

            /*
                 dom节点类型
                 元素节点  文本节点   属性节点
 
                 【注】  节点分为 元素节点  文本节点   属性节点 ；这三个节点有三个有用的属性：
                         nodeName  nodeType nodeValue
            */
            // alert(oDiv.childNodes.length);  //5 因为有空白节点

            //    alert(oDiv.childNodes[2].nodeName);  //#text
            //    alert(oDiv.childNodes[2].nodeType);  //3
            //    alert(oDiv.childNodes[2].nodeValue); //文本内容

            //    alert(oDiv.childNodes[1].nodeName); //em
            //    alert(oDiv.childNodes[1].nodeType); // 1
            //    alert(oDiv.childNodes[1].nodeValue); //null


            // alert(oDiv.childNodes[3].nodeName);  //STRONG
            // alert(oDiv.childNodes[3].nodeType);  //1
            // alert(oDiv.childNodes[3].nodeValue); //null

            /*
                firstchild
                lastchild
            */
            //    alert(oDiv.firstChild.nodeName);
            //    alert(oDiv.lastChild.nodeName);
            // alert(/^\s+$/.test("  "));

            alert(oDiv.childNodes.length);
            var nodes = removeSpaceNode(oDiv.childNodes);
            alert(nodes.length);
            // removeSpaceNode2(oDiv);
            // alert(oDiv.childNodes.length);
        }

        function removeSpaceNode(nodes) {
            var result = [];
            for (var i = 0; i < nodes.length; i++) {
                //判断是否是空白节点
                if (nodes[i].nodeType == 3 && /^s+$/.test(nodes[i].nodeValue)) {
                    document.write("kongbai</br>");
                    continue;
                }
                result.push(nodes[i]);
            }
            return result;
        }

        function removeSpaceNode2(parent) {
            var nodes = parent.childNodes;
            for (var i = nodes.length - 1; i >= 0; i--) {
                if (nodes[i].nodeType == 3
                    && /^\s+$/.test(nodes[i].nodeValue)) {
                    parent.removeChild(nodes[i]);
                }
            }
        }


    </script>
</head>

<body>
    <div id="div1">
        <em>斜体</em>
        文本内容
        <strong>粗体</strong>
    </div>
</body>

</html>